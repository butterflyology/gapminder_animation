---
title: "`labels`"
author: "Chris Hamm"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: TRUE
    toc_float: TRUE
    toc_depth: 3
    css: ../misc/style.css

---


```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.align = "center", cache = TRUE)
options(dplyr.width = Inf)
```


```{r preliminaries, echo = TRUE}
set.seed(923741)

library("tidyverse")
library("gganimate")
```


```{r irisData, echo = FALSE}
data(iris) # load the iris data
glimpse(iris) # view the data
```


The animated plot is looking godecent but I think that we can increase the information content on the figure by adding labels to the plot. This is especially important when all the data points are the same color.


# Labels
We can add labels!

Using the `labs()` function after `transition_states()` will add a label to your plot. You can use syntax from the `glue` package to define what you would like to plot. If you want to have the `state` appear on your plot, you can select from three options:

  - **previous_state** - previous variable state
  - **closest_state** - the current variable state
  - **next_state** - next variable state

Since we are going to add the species name, I'll go ahead and remove the legend since it would duplicate information in the plot.

```{r irisLabs}
iris_plot <- iris %>% 
  ggplot(aes(x = Petal.Width, y= Petal.Length)) +
  geom_point(size = 5, alpha = 0.75, show.legend = FALSE) +
  labs(x = "Petal width", y = "Petal length")

iris_plot +
  transition_states(Species,
                    transition_length = 2, 
                    state_length = 1) +
  labs(title = "Iris {closest_state}")
```


And now we can see the name of the Genus (*Iris*) and species name in the upper left of the animated plot. Notice that the name changes species name when the data points are halfway through the transition to the next state. 
